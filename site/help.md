% 帮助

## 如何评论

　　因博客使用的第三方评论系统 [Disqus](https://disqus.com/) 在国内被墙，我开发了基于电子邮件的评论系统，并完成了迁移。新评论系统的特点是：

* 国内可正常访问
* 所有操作（评论、回复、编辑、删除、设置 url）均通过发送指定格式的电子邮件完成
* 邮件正文只支持纯文本，不支持富文本或附件（请在邮件编辑器中设置格式为“纯文本”）
* 邮件处理为非实时，最差情况下可能有 20 分钟迟延（现阶段部分功能需人工处理，耗时不定，请耐心等待）

　　邮件的收件人均为 <blog@henix.info> ， 格式如下（如未按照指定格式发邮件，可能会被直接丢弃）：

### 添加评论

　　推荐直接使用页面上的跳转功能，会自动填充收件人和标题。

项目|格式|样例
----|----|----
标题|[评论] {文章标题}|[评论] Windows 命令行基础|
正文|评论内容|火钳刘明

### 回复他人

　　在页面上设置好自己的评论邮箱后，点击“回复”按钮会直接跳转到邮箱。

项目|格式|样例
----|----|----
标题|[回复] {文章标题} #评论ID|[回复] 关于 #7715841|
正文|回复内容|好久不见

　　在文章页面上，如果选择评论邮箱为“其他”可获得评论 ID 。

### 编辑评论

　　在要编辑的评论上点击“回复”，并将邮件标题修改为“\[编辑评论\] {文章标题} #评论ID”，正文为新的评论内容。只有发表者本人可以编辑。

### 删除评论

　　在要删除的评论上点击“回复”，并将邮件标题修改为“\[删除评论\] {文章标题} #评论ID”，正文留空。只有发表者本人可以删除。

### 设置 url

　　此 url 会作为你的用户名的跳转链接。支持 http / https / mailto 协议。

项目|格式|样例
----|----|----
标题|[设置网址] {网址}|[设置网址] https://blog.henix.info/|
正文|留空|

　　如果网址为空，则表示删除跳转链接。

　　设置 url 需要等待 10 分钟才能生效。

### 如何设置邮件为纯文本格式

　　各大 Web 邮箱、邮件客户端均可设置邮件为“纯文本模式”。纯文本比默认的 HTML 模式更适合用程序处理。

　　常见 Web 邮箱设置方法如下：

* Gmail - 编辑框右下角“三个点”图标 → “纯文本模式”
* Outlook - 编辑框右下角“三个点”按钮 → “Switch to plain text”
* QQ - 编辑框右下角“其他选项” → 勾选“纯文本”

　　其他客户端的设置方法可参考 <https://useplaintext.email/> 。

### 在手机上如何操作

　　在手机上推荐先安装你使用的邮箱的 app ，然后在页面上选择评论邮箱为“系统默认”，此时点击“写评论”按钮后会跳转到 app 中编辑。

### 评论规范

* 评论时请遵守中国和美国相关法律
* 谢绝广告、刷屏

　　违者可能会被管理员删除评论，严重者可能会被拉黑电子邮件地址。

### 隐私和安全注意事项

* 你的电子邮件地址不会在 Web 上公开
* 当你回复他人时，被回复的人可以看到你的电子邮件地址
* 你在邮箱中设置的用户名会作为评论的用户名公开
* 据网友反馈[^1][^2]和我自己测试（截至 2020 年 2 月），网易邮箱可能会收不到 Gmail 发出的邮件，不推荐使用网易邮箱（163、126、yeah）

　　如果你使用自己的域名邮箱：请务必设置好域名的 [SPF 记录](https://www.renfei.org/blog/introduction-to-spf.html)，否则你的电子邮件地址有被别人冒用的风险。我的评论系统会拒收 SPF 检查失败的邮件。常见邮箱提供商的设置方法如下：

* [借助 SPF 防范仿冒邮件和垃圾邮件 - Google Workspace 管理员帮助](https://support.google.com/a/answer/33786?hl=zh-Hans)
* [SPF指引 - QQ邮箱帮助中心](https://service.mail.qq.com/detail/0/64)

　　如果你使用小众或自己架设的邮箱服务：请确保启用了[传输过程加密（TLS）](https://www.internetsociety.org/resources/ota/2017/transport-layered-security-tls-for-email/)，否则你的邮件可能会在网络传输过程中被第三方截获或篡改。我的评论系统会拒收未启用 TLS 的邮件。此技术通常完全由邮箱服务商控制，用户无法自己设置，各个大的邮箱服务商均已采用了 TLS 。如果你不确定，可以在 [CheckTLS](https://www.checktls.com/) 网站上输入域名进行在线测试。其他关于传输过程加密的信息可参考：

* [传输过程中的电子邮件加密 - Gmail帮助](https://support.google.com/mail/answer/6330403?hl=zh-Hans)
* [传输期间的电子邮件加密 – Google 透明度报告](https://transparencyreport.google.com/safer-email/overview?hl=zh-Hans)

## 脚注

[^1]: [请网易邮箱立即停止侵犯公民通信自由 - 新闻实验室](https://archive.vn/4lLNi)
[^2]: [网易会删除用户已经收到的邮件 - 一天世界](https://blog.yitianshijie.net/2020/02/13/netease-mailbox-deletes-users-emails/)
